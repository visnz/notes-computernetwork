# 传输层
> 互联网环境中各主机独立分配的进程号是不能作为进程标识的。为了使运行不同操作系统的计算机的应用进程能够互相通信，统一方法对 TCP/IP 体系的应用进程进行标志。运输层向它上面的应用层提供通信服务，属于面向通信部分的最高层。同时也是用户功能中的最低层，运输层为相互通信的应用进程提供了逻辑通信。

![](/.src/pic/传输层.png)

主要功能：
- 复用（不同进程复用同一传输层协议传输数据）
- 分用（完成传输后解包并传送到指定进程）
![](/.src/pic/分用复用.png)

## 与其他层的关系
![](/.src/pic/应用层与运输层.jpg)

与网络层的区别：网络层为主机之间提供逻辑通信，而运输层为应用程序之间提供端到端的逻辑通信。同时TCP还有校验、保障传输的功能。

## 其他杂乱的知识点
socket设计高并发结构：
 - 由单一端口进行监听，接收到连接请求，服务器计算并分配新的端口号进行TCP连接

TCP fork(TCP分岔)
  - 在一个TCP连接后创建一个子连接，共享资源（进程与子进程的概念），执行不同的操作，进而节省TCP连接的资源。
  - 通常用在服务器的高并发处理，父进程监听收到TCP连接请求，将其分配给fork和子进程，子进程处理，父进程继续监听和交付。
