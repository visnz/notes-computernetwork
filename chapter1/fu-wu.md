# 电路交换
传统电话网使用电路交换，两部电话机只需要用一对电线就能够互相连接起来。后来随着电话的增多，小范围电话使用两两互相连接的方法，这种连接方法需要的电话线对的数量与电话机数量平方成正比。
![](/.src/pic/电话交换机.png)
后来人们加入了一个处于核心位置的交换机，用其来完成所有接入者的交换工作，多台交换机联系在一起构建成早期的电话**电路交换网络**。
- 电路交换的特点：
  - 在通信之前需要拨号来建立连接，要经过一个或多个交换机
  - 通信过程中，双方会一直占用彼此的连接，外人无法接入。线路独享，没有额外交换开销
  - 通信结束后，再挂机由交换机释放连接
  - 电路交换是**面向连接**的通信方式，即 一旦建立连接就会持续到释放，独享、低延迟

![](/.src/pic/电路交换.png)
**电路交换的实质** 是基于位置的，在交换设备内部，硬件开关将输入线和输出线直接连通
**电路交换的外部表现** 是通信两端一旦接通，便拥有一条实际的物理线路，双方独占此线路

# 报文交换
将欲发送的整块数据称为一个报文

思路：把发送方的数据当做一个 **报文** 来发送，以面向事务的发送方式（有就做事，没有就等待），传送数据之前**不需要建立连接**。引入**存储转发**，把收到的报文存储起来，在适当的时候转发出去，以此解决非面向连接的数据传输方式

- 报文交换的特点：
  - 无连接、面向事务。
  - 引入存储转发，以调节交换机的工作
  - 中间节点加入了存储器，而且对文件大小有要求。大报文传输时候造成高时延。

# 分组交换

分组 (包)：通常在发送报文前，先将较长的报文划分成一个个更小的等长数据段，在每一个数据段前面，加上一些必要的控制信息组成的 首部 后，就构成了一个 分组 。

分组首部 (包头)：含有地址等控制信息，用于在交换机之间完成 分组交换 工作

封包传输的过程

1. 在发送端，先把较长的 报文 划分成较短的、固定长度的数据段
2. 每一个数据段前面添加上首部构成 分组
3. 分组交换网以“分组”作为数据传输单元，交换机根据分组的首部地址信息，把分组**转发**到下一个结点交换机
4. 用**存储转发**方式，依次把各分组发送到接收端
5. 接收端收到分组后剥去首部还原成报文，把收到的数据恢复成为原来的报文

分组交换的特点
- **分组传送**，避免了单次传输数据过大引发的问题
- 逐段独占以高效、动态利用传输带宽
- 分组灵活的路由转发，有效对抗断连、独占等
- **无连接的**(connectionless)
- **存储转发**（stored and forwarded)，但会增加时延
- 增加寻址开销，每个分组都需要寻址

![](/.src/pic/分组交换1.png)
## 三种交换方式比较
![](/.src/pic/三种交换.png)

计算机网络的基本特点
- 网络用于计算机之间的数据传送，而不是为了打电话（难预测长度的数据、难预测的连接）
- 网络能够连接不同类型的计算机，不局限于单一类型的计算机（异质包容性）
- 所有的网络结点都同等重要，因而大大提高网络的生存性（抗冲击鲁棒性）
- 早期的面向终端的计算机网络是以单个主机为中心的星形网，分组交换网则是以网络为中心，主机都处在网络的外围